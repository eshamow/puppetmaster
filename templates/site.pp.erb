Package { allow_virtual => false }

node '<%= @master %>' {
  class { 'puppetmaster::profile':
    master => '<%= @master %>',
    control_repo => '<%= @control_repo %>',
    manage_firewall => '<%= @manage_firewall %>',
  }
}

<% if @hiera_erb -%>
node default {
  hiera_include('node::classes')
}
<% end -%>
